<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Free Price Compare</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Beshoy Bebawe">
    <!-- Font Awesome icons cdn -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
        integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <!-- bootstrap production cdn -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Axios library cdn -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- CSS external stylesheet -->
    <link rel="stylesheet" href="./css/main.css">
    <!-- vue production cdn -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <!-- Html5 shim for legacy browsers support, hosted by google -->
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
    <!-- begin wrapper, wraps header and main, keeps footer and the bottom -->
    <div class="wrapper">
        <div id="app">
            <!-- Header -->
            <header>
                <div class="container">
                    <div class="row">
                        <div class="col-sm-2">
                            <!-- logo -->
                            <a href="/" class="navbar-brand">
                                <img id="logo" src="./img/logo.png" alt="Logo" class="img-fluid">
                            </a>
                        </div>
                        <div class="col-sm-10 align-self-center">
                            <div class="row no-gutters justify-content-center">
                                <div class="col-sm-2">
                                    <select class="form-control border-secondary border-right-0 rounded-0"
                                        v-model:value="searchCriteria">
                                        <option value="categories">All Categories</option>
                                        <option value="products">All Products</option>
                                    </select>
                                </div>
                                <div class="col-sm-6">
                                    <input class="form-control border-secondary border-right-0 rounded-0" type="search"
                                        v-model:value="searchKeyword" placeholder="What are you looking for today?">
                                </div>
                                <div class="col-sm-2">
                                    <button
                                        class="btn btn-outline-secondary border-left-0 rounded-0 rounded-right search-btn"
                                        type="button" @click.prevent="">
                                        <i class="fa fa-search"></i> Search
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <main class="container">
                <!-- categories div -->
                <div v-if="showCategories == true" class="row justify-content-center">
                    <h3 class="col-sm-12 main-heading">Browse Products By Category</h3>
                    <div v-for="category in categories" class="col-sm-3 align-items-center category-block ">
                        <div class="card category-card ">
                            <img class="card-img-top" v-bind:src="category.category_image" alt="Card image cap">
                            <div class="card-body category-name">
                                <p class="card-text text-center">{{category.category_name}}</p>
                            </div>
                            <button @click.prevent="getCategoryProducts(category.category_id, category.category_name)"
                                type="button" class="btn btn-outline-info store-btn">View Products</button>
                        </div>
                    </div>
                </div>
                <!-- end categories div -->
                <!-- category product div -->
                <div v-if="showCategoryProduct == true" class="row justify-content-center">
                    <h3 class="col-sm-12 main-heading"> {{ numberOfUniqueProductsInCategory }} Products found in
                        {{ displayedCategoryName }}
                        category </h3>
                    <div v-for="product in categoryProduct" class="col-sm-12 product-block product-item card">
                        <div class="row">
                            <div class="col-sm-2 align-self-center">
                                <img class="product-image " v-bind:src="product.category_image" alt="">
                            </div>
                            <div class="col-sm-8 align-self-center">
                                <ul class="list-group">
                                    <li><b>Product Name:</b> {{product.product_name}}</li>
                                    <li><b>Category:</b> {{product.category_name}}</li>
                                    <li><b>Product Volume:</b> {{product.product_volume}}</li>
                                </ul>
                            </div>
                            <div class="col-sm-2 align-self-center">
                                <button @click.prevent="getProductPriceById(product.product_id)" type="button"
                                    class="btn btn-outline-info store-btn">Compare Price</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end category product div -->
                <!-- product div -->
                <div v-if="showProductPrice == true" class="row">
                    <h3 class="col-sm-12 main-heading"> {{ numberOfProductsInCategory }} Products found </h3>
                    <div v-for="product in productPrice" class="col-sm-12 product-block product-item card">
                        <div class="row justify-content-center">
                            <div class="col-sm-2 align-self-center">
                                <img class="product-image " v-bind:src="product.product_image" alt="">
                            </div>
                            <div class="col-sm-8">
                                <h5> {{product.product_name}}</h5>
                                <ul class="list-group">
                                    <li><b>Product Name:</b> {{product.product_name.toUpperCase()}}</li>
                                    <li><b>Product Description:</b> {{product.product_description}}</li>
                                    <li><b>Product Volume:</b> {{product.product_volume}}</li>
                                    <li><b>Product Price:</b><span v-if="product.product_price > 1">
                                            Â£{{product.product_price}}</span><span v-if="product.product_price < 1">
                                            {{product.product_price * 100}}p</span></li>
                                    <li><b>Supermarket:</b> {{product.supermarket_name.toUpperCase()}}</li>
                                </ul>
                            </div>
                            <div class="col-sm-2 align-self-center">
                                <img class="img-fluid supermarket-image" v-bind:src="product.supermarket_image" alt="">
                                <a v-bind:href="product.price_source" target="_blank"><button type="button"
                                        class="btn btn-outline-info store-btn">Go to Store <i
                                            class="fas fa-arrow-right"></i></button></a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end product div -->
            </main>
        </div>
    </div>
    <footer>
        <div class="container">
            <div class="footer-info text-center">
                <h2 class="footer-heading">Get in Touch</h2>
                <address>
                    <p><i class="fas fa-envelope"></i> Email: <a
                            href="mailto:bb537@live.mdx.ac.uk">bb537@live.mdx.ac.uk</a></p>
                    <p><i class="fas fa-phone-square"></i> Phone: 0201 234 5678</p>
                </address>
            </div>
            <div class="copyright"><small>&copy; Copyright 2019- Beshoy Bebawe</small></div>
        </div>

    </footer>
    <!-- bootstrap jquery & pepper -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>
    <!-- app script -->
    <Script src="./js/app.js"></Script>
</body>

</html>